<!doctype html>
<html>
<head>
  <title>SRP - List View</title>
  <link rel="stylesheet" type="text/css" href="base.css" />
  <style type="text/css">
  	  	.card {position:absolute; width:300px; border-right:solid 1px #ddd;  background-color:#f1f1f1; overflow-y:scroll; display:none; box-sizing:border-box;}

  	.pd-p { -webkit-box-shadow: 2px 0px 5px 0px rgba(56,56,56,1); -moz-box-shadow: 2px 0px 5px 0px rgba(56,56,56,1); box-shadow: 2px 0px 5px 0px rgba(56,56,56,1);}
  	.card .photo {position:relative; width:300px; height:150px; background-repeat: no-repeat; background-color:#eee; background-size: cover;}
  	
  	.details-block {border:solid 1px #eee; padding:12px; margin:12px; display:none; background-color:#fff;}
  	h2 {padding:0; margin:0; font-size:18px; font-weight: normal;}
  	.details-block p {font-size:14px; margin-bottom:0;}
  	

  	#address {position:absolute; top:12px; right:12px; font-size:13px; color:#555; background-color:#fff; padding:12px;-webkit-box-shadow: 1px 1px 5px 0px rgba(56,56,56,1);
-moz-box-shadow: 1px 1px 5px 0px rgba(56,56,56,1);
box-shadow: 1px 1px 5px 0px rgba(56,56,56,1);}

	.photo h1 {display:none; padding:0 12px; margin:0; position:absolute; bottom:12px; left:12px; color:#fff; font-size:24px; font-weight: normal; text-shadow: 1px 1px #555;}


  #chip-wrapper {margin:12px 0 0 12px; z-index:2000; position:absolute; top:50px; left:0; right:0; bottom:0; overflow-y:scroll;}
	.chip {width:300px; border:solid 1px #ddd; background-color: #fff; display:inline-block; margin-right:12px; vertical-align:top; margin-bottom:12px;}
  .chip .details {padding:12px;} 
  .chip .details .name {white-space: nowrap; overflow: hidden;}
  .chip .details .stars {color:#d41200; font-size:12px;}
  .chip .details .price {font-size:24px; margin-top:6px; color:#d41200;}
  .chip .details .review {font-size:12px; margin-top:6px;}
  .chip .photo {position:relative; width:300px; height:150px; background-repeat: no-repeat; background-color:#eee; background-size: cover;}
  </style>
  <script src="../../jquery.js"></script>
  <script type="text/javascript"
          src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDGbEUwknHTaKmEpjwM-fRfJt7zbCZZtCI&sensor=false">
      </script>
  <script src="../ean.js"></script>

  <script>

    var pos;
    var level = 0;


  	$(function(){

      initializeMap(0);
      displayHotelList();
      


      

  		$("#chip-wrapper").on("click", ".chip", function(e){
  			pos = $(this).find(".photo").offset();
  			var photoURL = $(this).find(".photo").css("background-image");
  			var styles = {
      			top: pos.top,
      			left: pos.left
    		};
  			$(".card").css(styles).show();
  			$(".card .photo").css("background-image", photoURL);
  			var hotelId = $(this).attr("id");
  			animateCard(hotelId);
  			$("#chip-wrapper").fadeOut();

        $("#pdp-header").show();
        $("#srp-header").hide();

        $(".hotel-name").text($(this).find(".name").text());
  		});

  		
      function animateCard(hotelId){
  			var c = $(".card");
  			fetchHotelDetails(hotelId);
        getRooms(hotelId)
  			c.animate({
  				width:$(window).width() / 2,
          height: "300px",
  				top: "50px",
  				left:"0"
  			}, 400, function(){
  				c.addClass("pdp");
  				$("h1").show();
  				c.animate({
  					height:"100%"
  				}, 200, function(){
  					$(".details-block").fadeIn( function(){
              $("#map-wrapper").css("left", $(window).width() / 2);

  						mapPDPList(hotel);
              $("#map-hider").fadeOut();
              c.css({bottom: "0", height:"auto"});
  						
  					});
  				})

  			});

  			c.find(".photo").animate({
    			width: $(window).width() / 2,
    			height: $(window).width() / 4
  			}, 400);
  		}
  	

      $("#back-pdp").on("click", function(){
        console.log("back selected");
        $("#map-hider").css("left", $(window).width() / 2).fadeIn();
        $(".details-block").fadeOut(200, function(){
          
          
        });

        $(".card").delay(300).animate({height:"300px"}, 500, function(){
            $("h1").hide();
            $(".card").animate({
              width: "300px",
              height: "150px",
              top: pos.top,
              left: pos.left
            }, 200, function(){
              $(".card").hide();
              $(".card .photo h1").empty();
              $(".card .photo div").empty();
              $("#rooms-wrapper .rooms").empty();
            });

            console.log("run this");

            $(".card").find(".photo").animate({
              width:"300px",
              height:"150px"
            }, 200);

            $("#chip-wrapper").fadeIn();
             $("#map-wrapper").show();

          $("#rooms-wrapper").hide();

          $("#reviews-wrapper").hide();
          });

        $("#pdp-header").hide();
        $("#srp-header").show();

        
      })


      $("button.panel").on("click", function(){
        var id = $(this).attr("rel");
        
        $("#overlay").fadeIn(300, function(){

          $("#"+id).show();
          

        });
      });

      $("#overlay").on("click", function(){
        //$("#rooms-wrapper").hide();
        
          $(".modal").hide();
          $(this).fadeOut(300);
        
        
      }); 

      $(".rooms").on("click", ".rooms-more", function(){
        //alert("click");
        var id = $(this).attr("rel");
        $("#" + id).animate({
          width:"672px"
        }, 200); 

        $("#" + id).find(".more-info").slideDown(200);

      }); 

      $("#room-details-wrapper").on("click", function(){
        $(this).fadeOut(function(){
          $(".rooms").find(".room").fadeIn();
        });
      })

    });


function changeContentPanel(id){

}



  		
  </script>


  
</head>
<body>





<div id="header">
  <div id="srp-header">
    <div id="back-srp" class="back-button"><img src="../back-arrow.png" /></div>
    <div class="title">
      <span>London, United Kingdom</span><br />
      <span class="dates">12/09/2014 - 13/09/2014</span>
    </div>
    <div class="tools">
      <ul>
        <li>EDIT</li>
        <li>FILTERS</li>
        <li>MAP VIEW</li>
      </ul>
    </div>
  </div>  
  <div id="pdp-header" style="display:none;">
    <div id="back-pdp" class="back-button"><img src="../back-arrow.png" /></div>
    <div class="title">
      <span class="hotel-name">Hotel name</span><br />
      <span class="dates">12/09/2014 - 13/09/2014</span>
    </div>
    <div class="tools">
      <ul id="pdp-tools" >
        <li>EDIT</li>
        <!--<li rel="rooms-wrapper">ROOMS</li>
        <li rel="reviews-wrapper">REVIEWS</li>
        <li rel="map-wrapper" class="selected">MAP</li>-->
      </ul>
    </div>
  </div>

</div>

<div id="map-wrapper">
  <div id="map_canvas" style="width:100%; height:100%;"></div>
  <div id="address"></div>
</div>
<div id="map-hider"></div>


<div id="chip-wrapper"></div>



	<div class="card" id="">
		<div class="photo">
      <h1></h1>
      <div></div>
    </div>

    <div class="details-block" style="margin:0;">
      <div style="overflow:hidden;">
        <div id="review-score" style="float:left; width:50%">
          <span class="score" style="font-size:20px;"></span><br />
          <span style="font-size:12px;">200 customer reviews</span>
        </div>
        <div id="trip-score" style="float:left; "></div>
      </div>
      
    </div>
    <div id="room" class="details-block">
      <h2>Lowest price room</h2>
      <div style="font-size:12px; margin:4px 0 12px;">1 room, 1 night, 2 people</div>

      <div id="rate" ></div>

      <button id="allrooms" style="width:100%; margin-top:12px;"  class="panel" rel="rooms-wrapper">SEE ALL ROOMS</button>
    </div>
		<div class="details-block about">
			<h2>About this hotel</h2>
			<p></p>

      <style type="text/css">
        ul.amenities {overflow:hidden; margin:0; padding:0; list-style-type: none; margin-top:12px;}
        ul.amenities li {float:left; width:50%; box-sizing: border-box; padding:6px; font-size:13px;}
        ul.amenities li.highlight {background-color:#eee;}
      </style>

      <ul class="amenities">
        <li class="highlight">Air conditioned</li>
        <li class="highlight">Airport shuttle</li>
        <li>Concierge</li>
        <li>English Speaking</li>
        <li class="highlight">Fitness Center</li>
        <li class="highlight">Swimming pool</li>
      </ul>
		</div>

    <div class="details-block">
      <h2>Guest reviews</h2>
      <p>"It was our 30th wedding anniversary. We loved the room and the Spa was outstanding. Unfortunately we missed the Bassoon Bar and the Oyster Bar because we stayed on a Sunday - we will just have to come back again..."</p>
      <p>
        "This is an amazing hotel! Great staff, big rooms, nice spa. Best hotel I've stayed in for a while."
      </p>
      <button class="panel" style="width:100%; margin-top:12px;" rel="reviews-wrapper">SEE ALL REVIEWS (200)</button>
    </div>

		
	</div>



<div id="overlay"></div>

<div id="rooms-wrapper" class="modal">
  <!--<div style="position:absolute; top:0; left:0; right:0; padding:12px; background-color:#ddd;">
    <h2 style="padding:0; margin:0;">Rooms</h2>
  </div>-->
  <div class="rooms" style="position:absolute; top:0; left:0; right:0; bottom:0; overflow-y:scroll;"></div>
</div>

<div id="room-details-wrapper" style="position:fixed; width:50%; right:0; top:0; bottom:0;display:none;">
  <div id="room-details" style="position:absolute; top:24px; right:24px; left:24px; bottom:24px; background-color:#fff; "></div>
</div>


<div id="reviews-wrapper" class="modal">
  
  <div id="reviews" style="position:absolute; padding-top:20px; top:0px; left:0; right:0; bottom:0; overflow-y:scroll;">
    <div class="details-block" >
      <h3>5.0/5 "You have to stay here!"</h3>
      <p>"It was our 30th wedding anniversary. We loved the room and the Spa was outstanding. Unfortunately we missed the Bassoon Bar and the Oyster Bar because we stayed on a Sunday - we will just have to come back again..."</p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "Wonderful"</h3>
      <p>
        "This is an amazing hotel! Great staff, big rooms, nice spa. Best hotel I've stayed in for a while."
      </p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "Wonderful experience right in the heart of London"</h3>
      <p>
        "I booked this hotel for a special occassion and was not disappointed. From the moment we walked into the entrance foyer we knew we were in for a treat. Friendly staff, great room, attentive service and a Spa and pool that we relaxed in every day after trips around the sites in London. Breakfast was great and we treated ourselves to a dinner in the Northall restaurant which was delicious! My only complaint was that we had to leave and get "back to reality"! We will be back, the Spa has to be experienced to be believed"
      </p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "Incredible service"</h3>
      <p>
        "The Corinthia promised much after all these glowing reviews but truly delivered. They were extremely accommodating for all my in room arrival treat requests and the spa was incredible. Every single member of staff made us feel welcome and bent over backward to ensure all fine details were perfect. What a hotel! I'm a convert and will be seeking out their other hotels in Europe. Pricey but well worth it."
      </p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "Great central hotel with lovely spa"</h3>
      <p>
        "Great central located hotel with a good spa facilities. Many london sights within walking distance. Breakfast staff provided an excellent service. Only downside was the room did not have a easy to use ipod docking system. Needed a connecting wire for it to work."
      </p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "All round wonderful"</h3>
      <p>
        "Simply couldn't fault it. Had a fabulous stay and would most certainly go back which is a first for me! Only negative would be the overpriced wine in the gargantuan list but all comparative in relation to it being London!"
      </p>
    </div>
    <div class="details-block" >
       <h3>5.0/5 "Faultless"</h3>
      <p>
        "This is a fabulous hotel and the staff could not do enough. The welcome at reception was great and the hotel room was spotless. I was also informed of the Spa which was free to use - I wish I had more time to take advantage!"
      </p>
    </div>
  </div>
</div>


</body>
</html>